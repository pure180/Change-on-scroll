/* ========================================================================
 * ChangeOnScroll: jquery.changeonscroll.js v2.0.0
 * Author: Daniel Pfisterer (info@daniel-pfisterer.de)
 * ========================================================================
 * Copyright 2015-2015 Daniel Pfisterer
 *
 * Licensed under MIT (https://opensource.org/licenses/MIT)
 * ======================================================================== */
 
+function($){"use strict";function Plugin(t){return this.each(function(){var s=$(this),e=s.data("changeonscroll"),o=$.extend({},ChangeOnScroll.DEFAULTS,e,t);new ChangeOnScroll(s,o)})}var ChangeOnScroll=function(t,s){this.$element=$(t),this.data=this.$element.data(),this.options=$.extend({},ChangeOnScroll.DEFAULTS,this.data,s),this.pos=$(window).scrollTop(),this.top=this.offsetTop(),this.bottom=this.offsetBottom(),this.start=String(this.options.start).indexOf(",")>-1?this.options.start.split(","):this.options.start,this.end=String(this.options.end).indexOf(",")>-1?this.options.end.split(","):this.options.end,this.style=String(this.options.style).indexOf(",")>-1?this.options.style.split(","):this.options.style,this.unit=String(this.options.unit).indexOf(",")>-1&&this.options.unit?this.options.unit.split(","):String(this.options.unit),this.Init()};ChangeOnScroll.VERSION="2.0.0",ChangeOnScroll.DEFAULTS={beforeClass:"scroller_before",whileClass:"scroller_while",afterClass:"scroller_after",unit:"",top:0,bottom:0,start:"",end:"",factor:1},ChangeOnScroll.prototype.Init=function(){var t=null;this.pos>=this.top&&this.pos<=this.bottom?(t="inside",this.Inside()):this.pos>=this.bottom?(t="after",this.After()):this.pos<=this.top&&(t="before",this.Before());var s=t,e=$.Event(s+".changeonscroll");this.$element.trigger(e),e.isDefaultPrevented()},ChangeOnScroll.prototype.Inside=function(){this.$element.one().addClass(this.options.whileClass).removeClass(this.options.beforeClass).removeClass(this.options.afterClass),this.CalculatePositionAndSetStyles()},ChangeOnScroll.prototype.Before=function(){this.$element.one().removeClass(this.options.whileClass).addClass(this.options.beforeClass),this.SetStyles(this.start)},ChangeOnScroll.prototype.After=function(){this.$element.one().removeClass(this.options.whileClass).addClass(this.options.afterClass),this.SetStyles(this.end)},ChangeOnScroll.prototype.offsetTop=function(){var t,s=this.options.top;return t=s?"number"==typeof s?s:$(s).offset().top:"number"==typeof this.options.top?this.options.top:this.$element.offset().top},ChangeOnScroll.prototype.offsetBottom=function(){var t,s=this.options.bottom;return t=s?"number"==typeof s?s:$(s).offset().top:"number"==typeof this.options.bottom?this.options.bottom:this.$element.offset().top},ChangeOnScroll.prototype.Percentage=function(){var t=(this.pos-this.top)/(this.bottom-this.top);return t.toFixed(6)},ChangeOnScroll.prototype.Calculate=function(t){var s="number"==typeof this.start?this.start:this.start[t],e="number"==typeof this.end?this.end:this.end[t],o=Number(s)+this.Percentage()*(e-s)*this.options.factor,i=Number(s)-this.Percentage()*(s-e)*this.options.factor,n=this.options.reverse?i:o;return n},ChangeOnScroll.prototype.SetStyles=function(value){var style="",separator="";if(this.style&&"string"==typeof this.style)this.$element.css(this.style,value*this.options.factor);else{for(var i in this.style)separator=this.style.length-1===i?"":", ",style+=this.style[i]+":"+value[i]*this.options.factor+separator;var styles=eval("({"+style+"})");this.$element.css(styles)}},ChangeOnScroll.prototype.CalculatePositionAndSetStyles=function(){var style="",separator="";if(this.style&&"string"==typeof this.style)this.$element.css(this.style,this.Calculate(0));else{for(var i in this.style)separator=this.style.length-1===i?" ":", ",style+=this.style[i]+":"+this.Calculate(i)+separator;var styles=eval("({"+style+"})");this.$element.css(styles)}};var old=$.fn.changeonscroll;$.fn.changeonscroll=Plugin,$.fn.changeonscroll.Constructor=ChangeOnScroll,$.fn.changeonscroll.noConflict=function(){return $.fn.changeonscroll=old,this},$(window).on("load",function(){$(this).on("scroll.changeonscroll.data-api",function(){$('[data-spy="scroller"]').each(function(){var t=$(this),s=t.data();Plugin.call(t,s)})})})}(jQuery);
